<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BIPA - PDV mobile para brechós</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app" id="app">
      <div class="demo-banner" role="status">MODO DEMO — dados fictícios</div>

      <header class="app__shell">
        <div class="app__topbar" role="navigation" aria-label="Acesso rápido">
          <div class="app__identity">
            <span class="brand-mark" aria-hidden="true">B</span>
            <div class="identity__text">
              <span class="identity__name">BIPA</span>
              <span class="identity__tagline">PDV mobile para brechós</span>
            </div>
          </div>

          <div class="topbar__actions">
            <a class="topbar__link" href="#overview-panel">Produto</a>
            <a class="topbar__link" href="#flows-panel">Fluxos</a>
            <a class="topbar__link" href="#reports-panel">Relatórios</a>
            <button class="btn btn--ghost btn--small" data-action="open-login">Entrar na demo</button>
            <button class="btn btn--primary btn--small" data-action="contact-sales">Falar com vendas</button>
          </div>
        </div>

        <div class="hero">
          <div class="hero__grid">
            <div class="hero__content">
              <span class="hero__badge">Solução omnichannel para varejo circular</span>
              <h1 class="hero__title">Mini-ERP + PDV móvel para brechós modernos.</h1>
              <p class="hero__subtitle">
                Cadastre peças, gere QR Code, venda em 3 toques e receba via PIX — tudo em uma experiência
                móvel pensada para times enxutos.
              </p>
              <div class="hero__actions" role="group" aria-label="Ações principais">
                <div class="hero__action">
                  <button class="btn btn--primary" data-action="open-login">Explorar versão demo</button>
                  <span class="hero__action-note">Abre a conta de teste com dados fictícios prontos.</span>
                </div>
                <div class="hero__action">
                  <a class="btn btn--outline" href="#reports-panel">Ver indicadores</a>
                  <span class="hero__action-note">Mostra relatórios com números falsos para sentir a análise.</span>
                </div>
              </div>
              <ul class="hero__highlights" aria-label="Destaques do BIPA">
                <li>Catálogo com QR Code individual, consignação e reservas em segundos.</li>
                <li>Venda assistida ou self-checkout com confirmação PIX integrada.</li>
                <li>Indicadores financeiros, operacionais e de equipe em tempo real.</li>
              </ul>
            </div>

            <aside class="hero__summary" aria-label="Resumo do BIPA em 1 minuto">
              <div class="summary-card">
                <header class="summary-card__header">
                  <span class="summary-card__badge" aria-hidden="true">1 min</span>
                  <h2 class="summary-card__title">Entenda o BIPA agora</h2>
                  <p class="summary-card__subtitle">O fluxo completo do varejo circular do cadastro ao passe de saída.</p>
                </header>
                <ol class="summary-card__list">
                  <li><strong>Organize o acervo.</strong> Cadastre lotes, gere etiquetas QR e acompanhe consignação.</li>
                  <li><strong>Venda em 3 toques.</strong> Escaneie, confirme PIX e entregue recibo sem fricção.</li>
                  <li><strong>Controle a saída.</strong> Libere com passe validado e monitore tudo nos dashboards.</li>
                </ol>
                <dl class="summary-card__metrics">
                  <div class="metric">
                    <dt>2m07s</dt>
                    <dd>Checkout médio com PIX confirmado</dd>
                  </div>
                  <div class="metric">
                    <dt>+38%</dt>
                    <dd>Giro de estoque com reservas temporárias</dd>
                  </div>
                  <div class="metric">
                    <dt>0 chargebacks</dt>
                    <dd>Saída liberada só após validação</dd>
                  </div>
                </dl>
                <footer class="summary-card__footer">
                  <p>
                    Prefere conversar com a equipe? Clique em
                    <button type="button" class="link-cta" data-action="contact-sales">falar com vendas</button> e receba um
                    tour guiado.
                  </p>
                </footer>
              </div>
            </aside>
          </div>
        </div>
      </header>

      <main class="app__content">
        <nav class="tabs" aria-label="Navegação principal" role="tablist">
          <button
            class="tabs__button is-active"
            id="tab-overview"
            data-tab="overview"
            role="tab"
            aria-controls="overview-panel"
            aria-selected="true"
          >
            Visão geral
          </button>
          <button
            class="tabs__button"
            id="tab-flows"
            data-tab="flows"
            role="tab"
            aria-controls="flows-panel"
            aria-selected="false"
          >
            Fluxos DEMO
          </button>
          <button
            class="tabs__button"
            id="tab-reports"
            data-tab="reports"
            role="tab"
            aria-controls="reports-panel"
            aria-selected="false"
          >
            Relatórios
          </button>
          <button
            class="tabs__button"
            id="tab-github"
            data-tab="github"
            role="tab"
            aria-controls="github-panel"
            aria-selected="false"
          >
            GitHub
          </button>
        </nav>

        <section class="panel is-active" id="overview-panel" role="tabpanel" aria-labelledby="tab-overview">
          <h2 class="panel__title">
            Mini-ERP + PDV móvel para brechós e lojas independentes.
          </h2>
          <p class="panel__subtitle">
            Cadastre peças, gere QR Code, venda em 3 toques e receba via PIX.
          </p>

          <div class="features">
            <article class="feature-card">
              <div class="feature-card__icon">
                <span class="icon icon--qr">&#9635;</span>
              </div>
              <div class="feature-card__content">
                <h3>QR Code por peça</h3>
                <p>Catálogo digital e controle de estoque instantâneo.</p>
              </div>
            </article>

            <article class="feature-card">
              <div class="feature-card__icon">
                <span class="icon icon--touch">&#128070;</span>
              </div>
              <div class="feature-card__content">
                <h3>Venda em 3 toques</h3>
                <p>Abrir → Escanear → Receber. Simples e rápido.</p>
              </div>
            </article>

            <article class="feature-card">
              <div class="feature-card__icon">
                <span class="icon icon--chart">&#128200;</span>
              </div>
              <div class="feature-card__content">
                <h3>Gestão completa</h3>
                <p>Clientes, gastos, relatórios e extrato público.</p>
              </div>
            </article>

            <article class="feature-card">
              <div class="feature-card__icon">
                <span class="icon icon--shield">&#128274;</span>
              </div>
              <div class="feature-card__content">
                <h3>Self-checkout seguro</h3>
                <p>Cliente paga no celular; saída liberada só após confirmação PIX.</p>
              </div>
            </article>
          </div>

          <div class="demo-card">
            <div class="demo-card__header">
              <span class="status-dot"></span>
              <span>Acesso Demo</span>
            </div>
            <p class="demo-card__description">
              Bipa do BIM — mais dados fictícios.
            </p>
            <button class="btn btn--surface" data-action="open-login">Entrar na conta demo</button>
            <p class="demo-card__footer">
              Quer ver mais? Entre em contato com a nossa equipe.
            </p>
          </div>
        </section>

        <section class="panel" id="flows-panel" role="tabpanel" aria-labelledby="tab-flows">
          <div class="panel__header">
            <h2 class="panel__title">Fluxos operacionais com simulação</h2>
            <p class="panel__subtitle">
              Explore como o PDV móvel funciona na prática: venda rápida, reservas
              temporárias e self-checkout com passe de saída.
            </p>
          </div>

          <div class="simulations-grid">
            <article class="simulation-card" aria-live="polite">
              <header class="simulation-card__header">
                <h3>Venda em 3 toques</h3>
                <p>Nova venda → Escanear → Receber PIX → Marcar pago → Recibo.</p>
              </header>
              <ol class="simulation-steps" id="sale-steps"></ol>
              <div class="simulation-actions">
                <button class="btn btn--primary" id="sale-next">Iniciar fluxo</button>
                <button class="btn btn--ghost" id="sale-reset" disabled>Reiniciar</button>
              </div>
              <div class="simulation-log" id="sale-log" aria-live="polite"></div>
            </article>

            <article class="simulation-card" aria-live="polite">
              <header class="simulation-card__header">
                <h3>Reserva temporária</h3>
                <p>Segure uma peça por 15/30/60 minutos. Timer acelerado (1s = 1min).</p>
              </header>
              <div class="reservation-status" id="reservation-status">
                <span class="chip chip--available">Disponível</span>
                <span class="reservation-timer" id="reservation-timer">—</span>
              </div>
              <div class="reservation-actions" role="group" aria-label="Duração da reserva">
                <button class="btn btn--ghost" data-reservation="15">Reservar 15 min</button>
                <button class="btn btn--ghost" data-reservation="30">Reservar 30 min</button>
                <button class="btn btn--ghost" data-reservation="60">Reservar 60 min</button>
              </div>
              <p class="reservation-note">
                Ao expirar, a peça volta automaticamente para <strong>available</strong>.
              </p>
            </article>

            <article class="simulation-card" aria-live="polite">
              <header class="simulation-card__header">
                <h3>Self-Checkout</h3>
                <p>Cliente lê QR da peça, paga fake e recebe Passe de Saída (1 uso).</p>
              </header>
              <label class="toggle">
                <input type="checkbox" id="self-checkout-flag" />
                <span class="toggle__decor" aria-hidden="true"></span>
                <span class="toggle__label">Habilitar self-checkout</span>
              </label>
              <div class="self-checkout-flow" id="self-checkout-flow" hidden>
                <div class="self-checkout-status" id="self-checkout-status" aria-live="polite">
                  Fluxo aguardando escaneamento.
                </div>
                <div class="self-checkout-actions">
                  <button class="btn btn--ghost" id="checkout-scan" disabled>Escanear peça</button>
                  <button class="btn btn--ghost" id="checkout-pay" disabled>Simular pagamento PIX</button>
                  <button class="btn btn--primary" id="checkout-validate" disabled>Validar saída</button>
                </div>
                <div class="self-checkout-pass" id="checkout-pass" hidden aria-live="polite"></div>
              </div>
            </article>
          </div>

          <section class="workspace-preview" aria-labelledby="workspace-preview-title">
            <div class="workspace-preview__screen">
              <div class="workspace-preview__phone" role="img" aria-label="Preview do app BIPA">
                <div class="workspace-preview__camera">
                  <div class="workspace-preview__scan-area"></div>
                  <p>Simule uma venda real com câmera e PIX fake.</p>
                </div>
                <button type="button" class="btn btn--primary workspace-preview__cta" data-action="open-login">
                  Abrir BIPA interativo
                </button>
              </div>
            </div>
            <div class="workspace-preview__details">
              <h3 id="workspace-preview-title">Experimente o app completo em segundos</h3>
              <p>
                Cada fluxo da DEMO agora é navegável. Escaneie produtos, finalize vendas, veja estoque e clientes —
                tudo alimentado por dados fictícios que reagem aos seus cliques.
              </p>
              <ul class="workspace-preview__list">
                <li>PDV mobile com carrinho dinâmico e confirmação PIX simulada.</li>
                <li>Inventário vivo: filtre peças, reserve e devolva com um toque.</li>
                <li>CRM enxuto: procure clientes e dispare recibos instantâneos.</li>
                <li>Self-checkout com passe temporário e validação em tempo real.</li>
              </ul>
              <button type="button" class="btn btn--surface workspace-preview__ghost" data-action="open-login">
                Ver jornada completa
              </button>
            </div>
          </section>
        </section>

        <section class="panel" id="reports-panel" role="tabpanel" aria-labelledby="tab-reports">
          <div class="panel__header">
            <h2 class="panel__title">Relatórios de Vendas — DEMO MVP</h2>
            <p class="panel__subtitle">
              Em 10 segundos você sabe quanto entrou, quantas vendas fecharam, ticket médio,
              descontos e mix de pagamento. Detalhes acionáveis mostram quem vendeu, o que saiu,
              quando e para quem — sempre com dados fictícios respeitando o fuso <strong>America/Manaus</strong>.
            </p>
          </div>

          <div class="reports-toolbar">
            <div class="reports-toolbar__filters">
              <div class="toolbar-row">
                <div class="toolbar-block">
                  <span class="toolbar-label">Período</span>
                  <div class="period-chips" role="group" aria-label="Período">
                    <button type="button" class="chip chip--period" data-period="today">Hoje</button>
                    <button type="button" class="chip chip--period" data-period="week">Semana</button>
                    <button type="button" class="chip chip--period is-active" data-period="month">Mês</button>
                    <button type="button" class="chip chip--period" data-period="custom">Personalizado</button>
                  </div>
                </div>
                <div class="toolbar-block toolbar-block--role">
                  <label class="role-select" for="reports-role">
                    <span>Perfil</span>
                    <select id="reports-role">
                      <option value="owner">Owner/Manager</option>
                      <option value="clerk">Clerk</option>
                    </select>
                  </label>
                </div>
              </div>

              <div class="reports-custom-range" id="custom-range" hidden>
                <label>
                  <span>De</span>
                  <input type="date" id="custom-start" />
                </label>
                <label>
                  <span>Até</span>
                  <input type="date" id="custom-end" />
                </label>
                <button type="button" class="btn btn--ghost btn--small" id="custom-apply">Aplicar</button>
              </div>

              <div class="filter-chip-row" role="group" aria-label="Filtros adicionais">
                <details class="filter-chip" data-filter="payment">
                  <summary>Pagamento: <span data-filter-label="payment">Todos</span></summary>
                  <div class="filter-chip__menu" data-menu="payment" role="listbox"></div>
                </details>

                <details class="filter-chip" data-filter="seller">
                  <summary>Vendedor: <span data-filter-label="seller">Todos</span></summary>
                  <div class="filter-chip__menu" data-menu="seller" role="listbox"></div>
                </details>

                <details class="filter-chip" data-filter="channel">
                  <summary>Canal: <span data-filter-label="channel">Todos</span></summary>
                  <div class="filter-chip__menu" data-menu="channel" role="listbox"></div>
                </details>

                <details class="filter-chip filter-chip--wide" data-filter="catalog">
                  <summary>Cat/Tam/Cor: <span data-filter-label="catalog">Todos</span></summary>
                  <div class="filter-chip__menu filter-chip__menu--form" data-menu="catalog">
                    <label>
                      <span>Categoria</span>
                      <select id="filter-category" data-catalog="category"></select>
                    </label>
                    <label>
                      <span>Tamanho</span>
                      <select id="filter-size" data-catalog="size"></select>
                    </label>
                    <label>
                      <span>Cor</span>
                      <select id="filter-color" data-catalog="color"></select>
                    </label>
                    <button type="button" class="chip-option chip-option--clear" data-action="clear-catalog">Limpar</button>
                  </div>
                </details>

                <details class="filter-chip" data-filter="consigned">
                  <summary>Consignado: <span data-filter-label="consigned">Todos</span></summary>
                  <div class="filter-chip__menu" data-menu="consigned" role="listbox">
                    <button type="button" class="chip-option is-active" data-value="all">Todos</button>
                    <button type="button" class="chip-option" data-value="yes">Sim</button>
                    <button type="button" class="chip-option" data-value="no">Não</button>
                  </div>
                </details>
              </div>
            </div>

            <div class="reports-toolbar__actions">
              <button type="button" class="btn btn--ghost btn--small" id="filters-clear-all">Limpar filtros</button>
              <button type="button" class="btn btn--ghost btn--small" id="reports-scroll-details">Ver detalhes</button>
            </div>
          </div>

          <section class="kpi-grid" id="kpi-primary">
            <article class="stat-card">
              <header>
                <h3>Faturamento líquido</h3>
                <span class="stat-variation" id="kpi-net-variation">—</span>
              </header>
              <p class="stat-card__value" id="kpi-net-value">R$ 0,00</p>
              <footer>Somente vendas pagas</footer>
            </article>
            <article class="stat-card">
              <header>
                <h3>Vendas pagas</h3>
                <span class="stat-variation" id="kpi-sales-variation">—</span>
              </header>
              <p class="stat-card__value" id="kpi-sales-count">0</p>
              <footer id="kpi-sales-detail">—</footer>
            </article>
            <article class="stat-card">
              <header>
                <h3>Ticket médio</h3>
                <span class="stat-variation" id="kpi-ticket-variation">—</span>
              </header>
              <p class="stat-card__value" id="kpi-ticket">R$ 0,00</p>
              <footer>Liquido dividido pelo nº de vendas</footer>
            </article>
            <article class="stat-card">
              <header>
                <h3>Descontos</h3>
                <span class="stat-variation" id="kpi-discount-variation">—</span>
              </header>
              <p class="stat-card__value" id="kpi-discounts">R$ 0,00</p>
              <footer>Somatório de vouchers e abatimentos</footer>
            </article>
          </section>

          <section class="kpi-grid kpi-grid--secondary" id="kpi-secondary">
            <article class="stat-card">
              <header>
                <h3>Faturamento bruto</h3>
              </header>
              <p class="stat-card__value" id="kpi-gross">R$ 0,00</p>
              <footer>∑ itens com status pago</footer>
            </article>
            <article class="stat-card">
              <header>
                <h3>Itens por venda</h3>
              </header>
              <p class="stat-card__value" id="kpi-items">0,0</p>
              <footer>Média de peças por venda</footer>
            </article>
            <article class="stat-card" id="margin-card">
              <header>
                <h3>Margem bruta</h3>
              </header>
              <p class="stat-card__value" id="kpi-margin">—</p>
              <footer id="kpi-margin-detail">Visível apenas para owner/manager</footer>
            </article>
            <article class="stat-card">
              <header>
                <h3>Conversão PIX</h3>
              </header>
              <p class="stat-card__value" id="kpi-pix-conversion">0%</p>
              <footer id="kpi-pix-detail">Tempo médio —</footer>
            </article>
            <article class="stat-card">
              <header>
                <h3>Devoluções/Estornos</h3>
              </header>
              <p class="stat-card__value" id="kpi-refunds">R$ 0,00</p>
              <footer>Impacto negativo no líquido</footer>
            </article>
          </section>

          <div class="charts-grid">
            <article class="chart-card chart-card--wide">
              <header>
                <h3>Líquido por período</h3>
                <span id="line-chart-label">—</span>
              </header>
              <svg id="line-chart" role="img" aria-label="Linha de faturamento líquido" viewBox="0 0 100 60" preserveAspectRatio="none"></svg>
            </article>

            <article class="chart-card">
              <header>
                <h3>TOP categorias</h3>
                <span id="category-hint">—</span>
              </header>
              <ol class="bar-chart" id="category-bars"></ol>
            </article>

            <article class="chart-card">
              <header>
                <h3>Mix de pagamento</h3>
                <span id="payment-total">—</span>
              </header>
              <div class="donut" id="payment-donut" aria-hidden="true"></div>
              <ul class="donut-legend" id="payment-legend"></ul>
            </article>

            <article class="chart-card chart-card--wide">
              <header>
                <h3>Heatmap — hora × dia da semana</h3>
                <span id="heatmap-hint">—</span>
              </header>
              <div class="heatmap" role="region" aria-live="polite">
                <table id="sales-heatmap"></table>
              </div>
            </article>
          </div>

          <div class="lists-grid">
            <article class="list-card">
              <header>
                <h3>TOP produtos</h3>
                <span id="top-product-hint">—</span>
              </header>
              <ol id="top-products"></ol>
            </article>
            <article class="list-card">
              <header>
                <h3>TOP clientes</h3>
                <span id="top-customer-hint">—</span>
              </header>
              <ol id="top-customers"></ol>
            </article>
            <article class="list-card">
              <header>
                <h3>TOP vendedores</h3>
                <span id="top-seller-hint">—</span>
              </header>
              <ol id="top-sellers"></ol>
            </article>
          </div>

          <div class="reports-actions">
            <div class="export-group" role="group" aria-label="Exportações CSV">
              <button type="button" class="btn btn--primary" data-export="sales">Exportar CSV — vendas</button>
              <button type="button" class="btn btn--primary" data-export="items">Exportar CSV — itens</button>
              <button type="button" class="btn btn--primary" data-export="payments">Exportar CSV — pagamentos</button>
            </div>
            <p class="demo-hint">MODO DEMO — dados fictícios (coluna <code>demo=true</code> nos CSVs)</p>
          </div>

          <section class="table-section">
            <header class="table-section__header">
              <div>
                <h3>Vendas filtradas</h3>
                <p id="sales-period-label">—</p>
              </div>
              <span class="table-summary" id="sales-count-summary">—</span>
            </header>
            <div class="table-wrapper">
              <table class="data-table" aria-live="polite">
                <caption class="sr-only">Lista de vendas filtradas com totais e status.</caption>
                <thead>
                  <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Data</th>
                    <th scope="col">Canal</th>
                    <th scope="col">Vendedor</th>
                    <th scope="col">Cliente</th>
                    <th scope="col">Itens</th>
                    <th scope="col">Desconto</th>
                    <th scope="col">Total</th>
                    <th scope="col">Status</th>
                    <th scope="col">Pagamento</th>
                  </tr>
                </thead>
                <tbody id="sales-table-body"></tbody>
              </table>
            </div>
          </section>
        </section>

        <section class="panel" id="github-panel" role="tabpanel" aria-labelledby="tab-github">
          <div class="panel__header">
            <h2 class="panel__title">Roadmap DEMO (GitHub)</h2>
            <p class="panel__subtitle">
              Milestones e issues sugeridas para organizar a entrega sem backend.
            </p>
          </div>

          <div class="milestones">
            <article class="milestone-card">
              <header>
                <h3>Milestone M0 — Bootstrap DEMO</h3>
                <span class="chip">Em andamento</span>
              </header>
              <ul>
                <li>
                  <strong>feat: PWA + Tailwind + Tipos base</strong>
                  <p>Aceite: app instala; tipos compilam.</p>
                </li>
                <li>
                  <strong>feat: IndexedDB adapter (Dexie) + persist</strong>
                  <p>Aceite: CRUD simples em db.demo.</p>
                </li>
                <li>
                  <strong>feat: Seeds DEMO e Reset</strong>
                  <p>Aceite: botão “Reset DEMO” repovoa org “DEMO BIPA”.</p>
                </li>
              </ul>
            </article>

            <article class="milestone-card">
              <header>
                <h3>Milestone M1 — Casca do App</h3>
                <span class="chip chip--outline">Próximo</span>
              </header>
              <ul>
                <li>
                  <strong>feat: Shell mobile + bottom-nav + FAB</strong>
                  <p>Aceite: tabs (Vender, Estoque, Clientes, Relatórios, Mais).</p>
                </li>
                <li>
                  <strong>feat: Badges DEMO + aviso global</strong>
                  <p>Aceite: “MODO DEMO — dados fictícios” visível.</p>
                </li>
              </ul>
            </article>

            <article class="milestone-card">
              <header>
                <h3>Milestone M2 — PDV (venda em 3 toques)</h3>
                <span class="chip chip--outline">Próximo</span>
              </header>
              <ul>
                <li>
                  <strong>feat: Scanner (BarcodeDetector + fallback)</strong>
                  <p>Aceite: escaneia e adiciona item ao carrinho.</p>
                </li>
                <li>
                  <strong>feat: Carrinho + desconto R$/% + cliente rápido</strong>
                  <p>Aceite: desconto aplica corretamente (ordem R$ → %).</p>
                </li>
                <li>
                  <strong>feat: Pagamento PIX fake + recibo WhatsApp</strong>
                  <p>Aceite: gera QR/copia-e-cola DEMO; “Marcar pago” muda sale.status=paid.</p>
                </li>
                <li>
                  <strong>feat: Regras de estoque (available→sold)</strong>
                  <p>Aceite: vender altera status e remove da vitrine.</p>
                </li>
              </ul>
            </article>

            <article class="milestone-card">
              <header>
                <h3>Milestone M3 — Estoque &amp; Etiquetas</h3>
                <span class="chip chip--outline">Planejado</span>
              </header>
              <ul>
                <li>
                  <strong>feat: Estoque (lista, filtros, CRUD + foto)</strong>
                  <p>Aceite: salvar produto com foto e status=available.</p>
                </li>
                <li>
                  <strong>feat: Etiquetas A7 com QR</strong>
                  <p>Aceite: PDF A4 com 8–12 etiquetas; QR abre /p/{code} DEMO.</p>
                </li>
              </ul>
            </article>

            <article class="milestone-card">
              <header>
                <h3>Milestone M4 — Clientes &amp; Relatórios</h3>
                <span class="chip chip--outline">Planejado</span>
              </header>
              <ul>
                <li>
                  <strong>feat: Clientes (cadastro rápido + ficha)</strong>
                  <p>Aceite: vínculo de vendas aparece na ficha.</p>
                </li>
                <li>
                  <strong>feat: Relatórios (Hoje/Semana/Mês/Custom)</strong>
                  <p>Aceite: KPIs (líquido, #vendas, ticket, descontos, mix) e TOPs calculam certo.</p>
                </li>
                <li>
                  <strong>feat: Export CSV (client-side)</strong>
                  <p>Aceite: CSV UTF-8 com filtros aplicados.</p>
                </li>
              </ul>
            </article>

            <article class="milestone-card">
              <header>
                <h3>Milestone M5 — Self-Checkout (DEMO flag)</h3>
                <span class="chip chip--outline">Planejado</span>
              </header>
              <ul>
                <li>
                  <strong>feat: Modo Cliente (flag)</strong>
                  <p>Aceite: cliente escaneia, paga fake, recebe Passe (QR 1-uso/TTL).</p>
                </li>
                <li>
                  <strong>feat: Validação de Saída (Exits)</strong>
                  <p>Aceite: passe valida 1x; expira ≤2 min.</p>
                </li>
                <li>
                  <strong>db: checkout_sessions + exit_passes</strong>
                  <p>
                    Aceite: <code>sales.channel=self_checkout</code>, <code>payments.paid_at</code>,
                    <code>sales.exited_at</code> populados.
                  </p>
                </li>
                <li>
                  <strong>sec: Passe com HMAC + webhook PSP</strong>
                  <p>Aceite: passe só aparece após confirmação server-side; logs de auditoria completos.</p>
                </li>
              </ul>
            </article>

            <article class="milestone-card">
              <header>
                <h3>Milestone M6 — Hardening DEMO</h3>
                <span class="chip chip--outline">Planejado</span>
              </header>
              <ul>
                <li>
                  <strong>perf: Lighthouse A11y ≥95 / PWA ok</strong>
                </li>
                <li>
                  <strong>sec: Limites de desconto por papel (local) + PIN gerente</strong>
                </li>
                <li>
                  <strong>chore: Página LGPD/Termos DEMO + Onboarding</strong>
                </li>
                <li>
                  <strong>docs: README (DEMO), Roadmap e como migrar p/ backend</strong>
                </li>
              </ul>
            </article>
          </div>
        </section>
      </main>

      <footer class="app__footer">
        <span>BIPA © 2024</span>
        <span>Termos · Privacidade</span>
      </footer>
    </div>

    <div class="workspace" id="demo-workspace" aria-hidden="true">
      <div class="workspace__backdrop" data-action="close-workspace" tabindex="-1"></div>
      <section class="workspace__shell" role="dialog" aria-modal="true" aria-labelledby="workspace-title" tabindex="-1">
        <header class="workspace__header">
          <div>
            <p class="workspace__badge">Demo viva</p>
            <h2 class="workspace__title" id="workspace-title">BIPA em modo operando</h2>
          </div>
          <button type="button" class="btn btn--ghost btn--small" data-action="close-workspace">Fechar</button>
        </header>

        <nav class="workspace__nav" role="tablist" aria-label="Seções do app demo">
          <button type="button" class="workspace__nav-btn is-active" data-view="pdv" role="tab" aria-selected="true">
            PDV
          </button>
          <button type="button" class="workspace__nav-btn" data-view="inventory" role="tab" aria-selected="false">
            Estoque
          </button>
          <button type="button" class="workspace__nav-btn" data-view="customers" role="tab" aria-selected="false">
            Clientes
          </button>
          <button type="button" class="workspace__nav-btn" data-view="selfCheckout" role="tab" aria-selected="false">
            Self-checkout
          </button>
          <button type="button" class="workspace__nav-btn" data-view="reports" role="tab" aria-selected="false">
            Indicadores
          </button>
        </nav>

        <div class="workspace__content">
          <section class="workspace-view is-active" data-view="pdv" role="tabpanel">
            <div class="workspace-split">
              <div class="workspace-pane">
                <header class="workspace-pane__header">
                  <h3>Escaneie ou escolha uma peça</h3>
                  <button type="button" class="btn btn--ghost btn--small" data-action="pdv-scan">Acessar câmera</button>
                </header>
                <ul class="workspace-list" id="pdv-product-list" aria-live="polite"></ul>
              </div>
              <div class="workspace-pane">
                <header class="workspace-pane__header">
                  <h3>Carrinho da venda</h3>
                  <span class="workspace-pane__meta" id="pdv-ticket">Ticket médio: —</span>
                </header>
                <div class="workspace-cart" id="pdv-cart" aria-live="polite"></div>
                <div class="workspace-cart__totals">
                  <div>
                    <span>Itens</span>
                    <strong id="pdv-item-count">0</strong>
                  </div>
                  <div>
                    <span>Total</span>
                    <strong id="pdv-total">R$ 0,00</strong>
                  </div>
                </div>
                <div class="workspace-cart__actions">
                  <button type="button" class="btn btn--ghost" data-action="pdv-discount">Aplicar 10% de desconto</button>
                  <button type="button" class="btn btn--primary" data-action="pdv-checkout">Confirmar PIX fake</button>
                </div>
                <div class="workspace-log" id="pdv-log" aria-live="polite"></div>
              </div>
            </div>
          </section>

          <section class="workspace-view" data-view="inventory" role="tabpanel" aria-hidden="true">
            <div class="workspace-split">
              <div class="workspace-pane">
                <header class="workspace-pane__header">
                  <h3>Filtrar acervo</h3>
                  <div class="workspace-filter">
                    <label>
                      <span>Categoria</span>
                      <select id="inventory-category"></select>
                    </label>
                    <label>
                      <span>Status</span>
                      <select id="inventory-status">
                        <option value="all">Todas</option>
                        <option value="available">Disponível</option>
                        <option value="reserved">Reservada</option>
                        <option value="sold">Vendida</option>
                      </select>
                    </label>
                  </div>
                </header>
                <ul class="workspace-list" id="inventory-list" aria-live="polite"></ul>
              </div>
              <div class="workspace-pane">
                <header class="workspace-pane__header">
                  <h3>Ações rápidas</h3>
                </header>
                <div class="workspace-actions" id="inventory-actions">
                  <p>Selecione uma peça para reservar, devolver ou destacar no catálogo.</p>
                </div>
              </div>
            </div>
          </section>

          <section class="workspace-view" data-view="customers" role="tabpanel" aria-hidden="true">
            <div class="workspace-split">
              <div class="workspace-pane">
                <header class="workspace-pane__header">
                  <h3>Buscar clientes</h3>
                  <input type="search" id="customers-search" placeholder="Nome ou telefone" aria-label="Buscar clientes" />
                </header>
                <ul class="workspace-list" id="customers-list" aria-live="polite"></ul>
              </div>
              <div class="workspace-pane">
                <header class="workspace-pane__header">
                  <h3>Detalhes</h3>
                </header>
                <div class="workspace-customer" id="customer-details">
                  <p>Escolha um cliente para disparar recibo ou reservar peças.</p>
                </div>
              </div>
            </div>
          </section>

          <section class="workspace-view" data-view="selfCheckout" role="tabpanel" aria-hidden="true">
            <div class="workspace-split">
              <div class="workspace-pane">
                <header class="workspace-pane__header">
                  <h3>Modo cliente ativo</h3>
                  <button type="button" class="btn btn--ghost btn--small" data-action="self-scan">Escanear outra peça</button>
                </header>
                <div class="workspace-self" id="self-session"></div>
              </div>
              <div class="workspace-pane">
                <header class="workspace-pane__header">
                  <h3>Validação do lojista</h3>
                </header>
                <div class="workspace-log" id="self-log" aria-live="polite"></div>
                <div class="workspace-cart__actions">
                  <button type="button" class="btn btn--ghost" data-action="self-expire">Forçar expiração</button>
                  <button type="button" class="btn btn--primary" data-action="self-validate">Validar passe</button>
                </div>
              </div>
            </div>
          </section>

          <section class="workspace-view" data-view="reports" role="tabpanel" aria-hidden="true">
            <div class="workspace-reports">
              <div>
                <h3>Resumo instantâneo</h3>
                <dl class="workspace-kpis" id="workspace-kpis"></dl>
              </div>
              <div>
                <h3>Melhores do dia</h3>
                <ul class="workspace-list" id="workspace-highlights"></ul>
              </div>
            </div>
          </section>
        </div>
      </section>
    </div>

    <div class="modal" id="contact-modal" aria-hidden="true">
      <div class="modal__backdrop" data-action="close-contact"></div>
      <section class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="contact-title" tabindex="-1">
        <header class="modal__header">
          <h2 id="contact-title">Vamos montar sua operação?</h2>
          <button type="button" class="btn btn--ghost btn--small" data-action="close-contact">Fechar</button>
        </header>
        <form class="modal__form" id="contact-form">
          <label>
            <span>Nome</span>
            <input type="text" name="name" required placeholder="Como podemos te chamar?" />
          </label>
          <label>
            <span>E-mail</span>
            <input type="email" name="email" required placeholder="nome@brecho.com" />
          </label>
          <label>
            <span>WhatsApp</span>
            <input type="tel" name="phone" required placeholder="(00) 90000-0000" />
          </label>
          <label>
            <span>Principal objetivo</span>
            <select name="goal" required>
              <option value="checkout">Self-checkout</option>
              <option value="pix">Receber via PIX</option>
              <option value="catalog">Catalogar acervo</option>
              <option value="consignacao">Consignação organizada</option>
            </select>
          </label>
          <label>
            <span>Mensagem</span>
            <textarea name="message" rows="3" placeholder="Conte rapidamente sua operação"></textarea>
          </label>
          <button type="submit" class="btn btn--primary">Enviar interesse</button>
          <p class="modal__note" id="contact-feedback" role="status" aria-live="polite"></p>
        </form>
      </section>
    </div>

    <div class="scanner" id="scanner-modal" aria-hidden="true">
      <div class="scanner__backdrop" data-action="scanner-close"></div>
      <section class="scanner__dialog" role="dialog" aria-modal="true" aria-labelledby="scanner-title" tabindex="-1">
        <header class="scanner__header">
          <div>
            <h2 id="scanner-title">Simulador de câmera</h2>
            <p>Apontamos para um QR Code e detectamos a peça em segundos.</p>
          </div>
          <button type="button" class="btn btn--ghost btn--small" data-action="scanner-close">Fechar</button>
        </header>
        <div class="scanner__viewport">
          <video id="scanner-video" autoplay playsinline muted></video>
          <div class="scanner__overlay">
            <span class="scanner__corner"></span>
            <span class="scanner__corner"></span>
            <span class="scanner__corner"></span>
            <span class="scanner__corner"></span>
          </div>
          <div class="scanner__fallback" id="scanner-fallback" hidden>
            <p>Não conseguimos acessar a câmera. Você pode simular a leitura manualmente.</p>
          </div>
        </div>
        <div class="scanner__status" id="scanner-status" aria-live="polite">Aponte para um QR Code.</div>
        <div class="scanner__actions">
          <button type="button" class="btn btn--ghost" data-action="scanner-trigger">Simular leitura agora</button>
          <button type="button" class="btn btn--primary" data-action="scanner-confirm" disabled>Adicionar ao carrinho</button>
        </div>
      </section>
    </div>

    <script src="script.js"></script>
  </body>
</html>
