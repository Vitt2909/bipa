<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BIPA ‚Äî PDV</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body data-page="pdv" data-theme="workspace">
    <header class="app-topbar">
      <div class="app-topbar__brand">
        <span class="brand-mark" aria-hidden="true">B</span>
        <div class="app-topbar__context">
          <span class="app-topbar__name">BIPA</span>
          <span class="app-topbar__store">Loja Demo ‚Äî Frente de Caixa</span>
        </div>
      </div>
      <nav class="app-topbar__actions" aria-label="A√ß√µes r√°pidas">
        <a class="btn btn--surface" href="/app/admin/dashboard/">Ir para Gest√£o</a>
        <a class="btn btn--ghost" href="/">Sair</a>
      </nav>
    </header>

    <main class="pdv-shell" data-panel="catalog">
      <div class="pdv-shell__viewport">
        <section class="pdv-panel pdv-panel--catalog" aria-labelledby="pdv-search-title">
          <header class="pdv-panel__header">
            <h2 class="pdv-panel__title" id="pdv-search-title">Buscar produto</h2>
            <p class="pdv-panel__subtitle">Pesquise por nome ou c√≥digo. Dados fict√≠cios.</p>
          </header>
          <label class="form-field pdv-search">
            <span class="sr-only">Buscar produto</span>
            <input id="pdv-search" type="search" placeholder="Digite para encontrar" autocomplete="off" />
          </label>

          <div class="pdv-scanner">
            <button class="btn btn--surface" id="pdv-open-scanner" type="button">Escanear c√≥digo</button>
            <p class="pdv-scanner__hint">Use a c√¢mera do dispositivo ou digite manualmente o c√≥digo da pe√ßa.</p>
          </div>

          <ul class="pdv-product-list" id="pdv-product-list" aria-label="Produtos dispon√≠veis"></ul>
        </section>

        <section class="pdv-panel pdv-panel--checkout" aria-labelledby="pdv-checkout-title">
          <header class="pdv-panel__header pdv-panel__header--checkout">
            <button class="pdv-panel__back" id="pdv-checkout-back" type="button" aria-label="Voltar para o cat√°logo">
              ‚Üê Voltar ao cat√°logo
            </button>
            <div>
              <h2 class="pdv-panel__title" id="pdv-checkout-title">Checkout</h2>
              <p class="pdv-panel__subtitle">Revise itens, descontos e pagamentos.</p>
            </div>
          </header>

          <div class="checkout-flow">
            <section class="checkout-section checkout-section--customer" aria-labelledby="pdv-customer-title">
              <header class="checkout-section__header">
                <h3 class="checkout-section__title" id="pdv-customer-title">Cliente</h3>
              </header>
              <div class="customer-zone" aria-live="polite">
                <div class="customer-zone__header">
                  <p class="customer-zone__label" id="pdv-client-current">
                    Cliente: <strong>Avulso (Padr√£o)</strong>
                  </p>
                  <button class="customer-zone__change" id="pdv-client-clear" type="button" hidden>
                    Alterar
                  </button>
                </div>
                <label class="form-field customer-zone__search">
                  <span class="form-label">Buscar Cliente (Nome ou WhatsApp)</span>
                  <input
                    id="pdv-client"
                    type="search"
                    placeholder="Buscar Cliente (Nome ou WhatsApp)"
                    autocomplete="off"
                    aria-controls="pdv-client-results"
                    aria-haspopup="listbox"
                    aria-expanded="false"
                  />
                </label>
                <div class="customer-suggestions" id="pdv-client-results" hidden role="listbox"></div>
                <button class="btn btn--surface customer-zone__register" id="pdv-client-register" type="button">
                  + Cadastrar Cliente
                </button>
              </div>
            </section>

            <section class="checkout-section checkout-section--items" aria-labelledby="pdv-cart-title">
              <header class="checkout-section__header">
                <h3 class="checkout-section__title" id="pdv-cart-title">Itens no carrinho</h3>
              </header>
              <ul class="checkout-cart" id="pdv-cart" aria-live="polite"></ul>
            </section>

            <section class="checkout-section checkout-section--summary" aria-labelledby="pdv-summary-title">
              <header class="checkout-section__header">
                <h3 class="checkout-section__title" id="pdv-summary-title">Resumo da venda</h3>
              </header>
              <div class="checkout-summary">
                <dl class="checkout-summary__totals">
                  <div>
                    <dt>Subtotal</dt>
                    <dd id="pdv-subtotal">R$ 0,00</dd>
                  </div>
                  <div>
                    <dt>Desconto</dt>
                    <dd id="pdv-total-discount">R$ 0,00</dd>
                  </div>
                  <div class="checkout-summary__total">
                    <dt>Total</dt>
                    <dd id="pdv-total">R$ 0,00</dd>
                  </div>
                </dl>
                <div class="checkout-summary__discount">
                  <button
                    class="checkout-summary__discount-toggle"
                    id="pdv-discount-toggle"
                    type="button"
                    aria-expanded="false"
                  >
                    Adicionar desconto
                  </button>
                  <div class="checkout-summary__discount-panel" id="pdv-discount-panel" hidden>
                    <label class="form-field discount-controls__field">
                      <span class="form-label">Valor do desconto</span>
                      <div class="discount-input">
                        <span class="discount-input__unit" id="pdv-discount-unit">R$</span>
                        <input
                          id="pdv-discount"
                          type="number"
                          min="0"
                          step="0.01"
                          value="0"
                          inputmode="decimal"
                        />
                      </div>
                    </label>
                    <div class="discount-controls__toggle" role="group" aria-label="Tipo de desconto">
                      <button class="discount-toggle is-active" data-discount-type="currency" type="button">R$</button>
                      <button class="discount-toggle" data-discount-type="percent" type="button">%</button>
                    </div>
                    <div class="checkout-summary__discount-actions">
                      <button class="btn btn--ghost btn--small" id="pdv-discount-clear" type="button">Remover desconto</button>
                      <button class="btn btn--surface btn--small" id="pdv-discount-close" type="button">Concluir</button>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <section class="checkout-section checkout-section--payment" aria-labelledby="pdv-payment-title">
              <header class="checkout-section__header">
                <h3 class="checkout-section__title" id="pdv-payment-title">Pagamento</h3>
              </header>
              <div class="pdv-payment" id="pdv-payment">
                <div class="pdv-payment__methods" role="group" aria-label="Formas de pagamento">
                  <button class="payment-button is-active" data-payment="PIX" type="button">PIX</button>
                  <button class="payment-button" data-payment="Dinheiro" type="button">Dinheiro</button>
                  <button class="payment-button" data-payment="Cart√£o" type="button">Cart√£o</button>
                  <button class="payment-button" data-payment="Fiado" type="button">Fiado</button>
                </div>

                <div class="pdv-payment__context" id="pdv-payment-context" aria-live="polite">
                  <p>Use a chave PIX <strong>pix@bipa.demo</strong> para receber o pagamento.</p>
                </div>

                <section class="pix-box" id="pdv-pix-box" hidden aria-live="polite">
                  <header class="pix-box__header">
                    <h3>Pagamento PIX DEMO</h3>
                    <p>Compartilhe o QR Code ou copie o c√≥digo est√°tico gerado com o valor da venda.</p>
                  </header>
                  <div class="pix-box__content">
                    <div class="pix-box__qr" id="pdv-pix-qr" aria-label="QR Code PIX"></div>
                    <div class="pix-box__details">
                      <div class="pix-box__code" role="group" aria-label="C√≥digo PIX copia e cola">
                        <code id="pdv-pix-code">‚Äî</code>
                        <button class="btn btn--ghost btn--small" id="pdv-pix-copy" type="button">Copiar c√≥digo</button>
                      </div>
                      <p class="pix-box__status" id="pdv-pix-status">Aguardando produtos no carrinho.</p>
                    </div>
                  </div>
                </section>

                <button class="btn btn--primary btn--xl" id="pdv-finish" type="button" disabled>
                  Finalizar venda
                </button>
              </div>
            </section>
          </div>
        </section>
      </div>

      <button class="pdv-cart-toggle" id="pdv-cart-toggle" type="button" hidden>
        <span class="pdv-cart-toggle__label" id="pdv-cart-toggle-label">Ver carrinho</span>
        <span class="pdv-cart-toggle__meta" id="pdv-cart-toggle-meta">0 itens ‚Ä¢ R$ 0,00</span>
      </button>
    </main>

    <section class="pdv-success" id="pdv-success" hidden aria-live="polite">
      <div class="pdv-success__card">
        <button class="pdv-success__close" id="pdv-success-close" type="button" aria-label="Fechar">√ó</button>
        <span class="pdv-success__icon" aria-hidden="true">‚úî</span>
        <h2>Venda realizada com sucesso!</h2>
        <p id="pdv-success-total">Total da venda: R$ 0,00</p>
        <div class="pdv-success__actions">
          <button class="btn btn--primary" id="pdv-success-new-sale" type="button">Iniciar nova venda</button>
          <a class="btn btn--surface" href="/app/pdv/recibo/0001/" target="_blank" rel="noreferrer">Imprimir recibo</a>
          <button class="btn btn--ghost" id="pdv-success-whatsapp" type="button">Enviar recibo por WhatsApp</button>
        </div>
      </div>
    </section>

    <div class="pdv-modal" id="pdv-card-modal" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="pdv-modal__content pdv-card-modal">
        <header class="pdv-modal__header pdv-card-modal__header">
          <div>
            <p class="pdv-card-modal__total-label" id="pdv-card-total-label">Total da venda</p>
            <p class="pdv-card-modal__total-value" id="pdv-card-total">R$ 0,00</p>
          </div>
          <button class="pdv-modal__close" id="pdv-card-close" type="button" aria-label="Fechar">√ó</button>
        </header>

        <div class="pdv-modal__body pdv-card-modal__body">
          <section class="card-gateway__step">
            <h3 class="card-gateway__step-title">Tipo de transa√ß√£o</h3>
            <div class="card-gateway__choices" role="group" aria-label="Tipo de transa√ß√£o">
              <button class="card-gateway__choice is-active" data-card-transaction="debit" type="button">D√©bito</button>
              <button class="card-gateway__choice" data-card-transaction="credit" type="button">Cr√©dito</button>
            </div>
          </section>

          <section class="card-gateway__step" id="pdv-card-installments-section" hidden>
            <h3 class="card-gateway__step-title">Parcelamento</h3>
            <div
              class="card-gateway__installments"
              id="pdv-card-installments"
              role="listbox"
              aria-label="Op√ß√µes de parcelamento"
            ></div>
          </section>

          <section class="card-gateway__step">
            <div class="card-gateway__step-header">
              <h3 class="card-gateway__step-title">Gest√£o de taxas</h3>
              <label class="card-gateway__switch" for="pdv-card-pass-fees">
                <input class="card-gateway__switch-input" type="checkbox" id="pdv-card-pass-fees" />
                <span class="card-gateway__switch-slider" aria-hidden="true"></span>
                <span class="card-gateway__switch-label" id="pdv-card-pass-fees-label"
                  >Repassar taxas da transa√ß√£o ao cliente</span
                >
              </label>
            </div>
            <p class="card-gateway__summary" id="pdv-card-fee-summary">Lojista absorve as taxas desta venda.</p>
          </section>

          <section class="card-gateway__step">
            <h3 class="card-gateway__step-title">Como receber o pagamento</h3>
            <div class="card-gateway__methods" role="group" aria-label="M√©todo de pagamento">
              <button class="card-gateway__method" data-card-method="nfc" type="button">
                <span class="card-gateway__method-icon" aria-hidden="true">üì∂</span>
                <span>Aproxime o cart√£o (NFC)</span>
              </button>
              <button class="card-gateway__method" data-card-method="manual" type="button">
                <span class="card-gateway__method-icon" aria-hidden="true">üí≥</span>
                <span>Digitar dados do cart√£o</span>
              </button>
              <button class="card-gateway__method" data-card-method="external" type="button">
                <span class="card-gateway__method-icon" aria-hidden="true">üñ±Ô∏è</span>
                <span>Usar maquininha externa</span>
              </button>
            </div>
          </section>

          <section class="card-gateway__feedback" id="pdv-card-feedback" hidden>
            <div class="card-gateway__feedback-view" data-card-feedback="nfc" hidden>
              <div class="card-gateway__nfc">
                <div class="card-gateway__nfc-visual" aria-hidden="true"></div>
                <p class="card-gateway__nfc-title">Aproxime o cart√£o, celular ou rel√≥gio</p>
                <p class="card-gateway__nfc-status">
                  Aguardando pagamento de <strong id="pdv-card-nfc-total">R$ 0,00</strong>...
                </p>
              </div>
            </div>

            <form class="card-gateway__feedback-view card-gateway__manual" data-card-feedback="manual" id="pdv-card-manual" hidden>
              <div class="form-field">
                <span class="form-label">N√∫mero do cart√£o</span>
                <input id="pdv-card-number" type="text" inputmode="numeric" autocomplete="cc-number" placeholder="0000 0000 0000 0000" required />
              </div>
              <div class="form-field">
                <span class="form-label">Nome impresso</span>
                <input id="pdv-card-name" type="text" autocomplete="cc-name" placeholder="Nome completo" required />
              </div>
              <div class="card-gateway__manual-row">
                <label class="form-field">
                  <span class="form-label">Validade</span>
                  <input id="pdv-card-expiry" type="text" inputmode="numeric" autocomplete="cc-exp" placeholder="MM/AA" required />
                </label>
                <label class="form-field">
                  <span class="form-label">CVV</span>
                  <input id="pdv-card-cvv" type="password" inputmode="numeric" autocomplete="cc-csc" placeholder="000" required />
                </label>
              </div>
              <button class="btn btn--primary" id="pdv-card-manual-submit" type="submit">Pagar R$ 0,00</button>
              <p class="card-gateway__manual-status" id="pdv-card-manual-status"></p>
            </form>

            <div class="card-gateway__feedback-view card-gateway__external" data-card-feedback="external" hidden>
              <p>Registre o pagamento na maquininha externa e confirme no PDV.</p>
              <p>
                Valor a registrar: <strong id="pdv-card-external-total">R$ 0,00</strong>. Informe a autoriza√ß√£o antes de concluir a venda.
              </p>
            </div>
          </section>
        </div>
      </div>
    </div>

    <div class="pdv-modal" id="pdv-register-modal" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="pdv-modal__content">
        <header class="pdv-modal__header">
          <h2>Novo cliente r√°pido</h2>
          <button class="pdv-modal__close" id="pdv-register-close" type="button" aria-label="Fechar">√ó</button>
        </header>
        <form class="pdv-modal__body pdv-register__form step-form" id="pdv-register-form" data-step-form>
          <ol class="step-indicator" data-step-progress role="list">
            <li data-step-progress-item>Identifica√ß√£o</li>
            <li data-step-progress-item>Contato</li>
          </ol>

          <div class="step-form__step" data-step-index="0" data-step-label="Identifica√ß√£o">
            <label class="form-field">
              <span class="form-label">Nome completo</span>
              <input id="pdv-register-name" type="text" required autocomplete="off" data-autofocus />
              <span class="form-field__feedback" id="pdv-register-name-feedback" hidden></span>
            </label>
          </div>

          <div class="step-form__step" data-step-index="1" data-step-label="Contato" hidden aria-hidden="true">
            <label class="form-field">
              <span class="form-label">WhatsApp</span>
              <input
                id="pdv-register-whatsapp"
                type="tel"
                required
                inputmode="tel"
                autocomplete="off"
                placeholder="(99) 99999-9999"
              />
              <span class="form-field__feedback" id="pdv-register-whatsapp-feedback" hidden></span>
            </label>
          </div>

          <div class="step-form__controls pdv-register__actions">
            <button class="btn btn--surface" id="pdv-register-cancel" type="button">Cancelar</button>
            <div class="step-form__nav">
              <button class="btn btn--ghost" type="button" data-step-prev hidden>Voltar</button>
              <button class="btn btn--primary" type="button" data-step-next>Continuar</button>
              <button class="btn btn--primary" type="submit" data-step-submit hidden>Salvar e usar na venda</button>
            </div>
          </div>
        </form>
      </div>
    </div>

    <div class="pdv-modal" id="pdv-scanner-modal" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="pdv-modal__content pdv-scanner__content">
        <header class="pdv-modal__header">
          <div class="pdv-scanner__header">
            <h2>Escanear produto</h2>
            <span class="pdv-scanner__badge" id="pdv-scanner-support">Leitor nativo</span>
          </div>
          <button class="pdv-modal__close" id="pdv-scanner-close" type="button" aria-label="Fechar">√ó</button>
        </header>
        <div class="pdv-scanner__body">
          <div class="pdv-scanner__viewer">
            <video id="pdv-scanner-video" class="pdv-scanner__video" playsinline muted></video>
          </div>
          <p class="pdv-scanner__status" id="pdv-scanner-status">Inicializando leitor...</p>
          <form class="pdv-scanner__manual" id="pdv-scanner-manual">
            <label class="form-field">
              <span class="form-label">C√≥digo do produto</span>
              <input id="pdv-scanner-input" type="text" autocomplete="off" placeholder="Ex.: BR-0001" />
            </label>
            <div class="pdv-scanner__actions">
              <button class="btn btn--primary" type="submit">Adicionar ao carrinho</button>
              <button class="btn btn--ghost" type="button" id="pdv-scanner-cancel">Cancelar</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script src="/script.js" defer></script>
  </body>
</html>
